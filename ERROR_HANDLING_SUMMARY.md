# ๐ ููุฎุต ุงูุชุญุณููุงุช ุงููุทุจูุฉ ุนูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

## ๐ฏ ุงููุดููุฉ ุงูุฃุตููุฉ

ุฑุณุงูุฉ ุงูุฎุทุฃ ูุงูุช ุทูููุฉ ูุชุญุชูู ุนูู ูุนูููุงุช ุญุณุงุณุฉ:

```
[2026-02-04T14:16:56.745Z] ERROR: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู - POST /api/auth/register
Stack trace: Error: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู
    at AuthService.register (file:///C:/Users/blals/OneDrive/.../auth.service.js:15:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///C:/Users/blals/OneDrive/.../auth.controller.js:16:22
```

---

## โ ุงูุญู ุงููุทุจู

### 1๏ธโฃ ุชุญุณูู `errorHandler.js`
```javascript
// ูุจู: ูุฑุณู Stack trace ููุนููู
// ุจุนุฏ: ูุฑุณู ุฑุณุงูุฉ ูุฎุชุตุฑุฉ ููุท

// ููุนููู:
{ status: "fail", message: "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู" }

// ูู ุงูู Console (ูููุทูุฑูู ููุท):
[2026-02-04T14:16:56.745Z] ERROR: [400] ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู - POST /api/auth/register
๐ด Stack Trace: Error: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู
    at AuthService.register (...)
```

### 2๏ธโฃ ุชุญุณูู `logger.js`
```javascript
// ูุจู: ูุทุจุน ุฑุณุงุฆู ุทูููุฉ ูุงููุฉ
// ุจุนุฏ: ููุทุน ุงูุฑุณุงุฆู > 200 ุญุฑู

format(level, message) {
    const truncatedMessage = message.length > 200 
        ? message.substring(0, 200) + '...' 
        : message;
    return `[${timestamp}] ${level}: ${truncatedMessage}`;
}
```

### 3๏ธโฃ ุจูุฆุฉ ุงูุชุทููุฑ vs ุงูุฅูุชุงุฌ

**ุงูุชุทููุฑ:**
- โ ูุทุจุน Stack Trace ูุงูู ูู Console
- โ ูุณุงุนุฏ ูู ุงูุชุทููุฑ ูุงูุชุตุญูุญ

**ุงูุฅูุชุงุฌ:**
- โ ูุง ูุทุจุน Stack Trace
- โ ูุฑุณู ุฑุณุงูุฉ ุนุงูุฉ ููุนููู
- โ ูุญุงูุธ ุนูู ุงูุฃูุงู

---

## ๐ ุงููุชูุฌุฉ

| ูุจู | ุจุนุฏ |
|------|-----|
| ุฑุณุงูุฉ ุทูููุฉ + Stack Trace | ุฑุณุงูุฉ ูุฎุชุตุฑุฉ ููุท |
| ูุนูููุงุช ุญุณุงุณุฉ ููุถูุญุฉ | ูุนูููุงุช ุขููุฉ |
| ุตุนูุจุฉ ูุฑุงุกุฉ ุงูู logs | logs ููุธู ููุงุถุญ |

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. `middleware/errorHandler.js`
โ ุชู ุชุญุณูู ุจูุงุก ุงูุงุณุชุฌุงุจุฉ
โ ูุฑุณู ุฑุณุงูุฉ ูุฎุชุตุฑุฉ ููุท ููุนููู
โ ูุญุชูุธ ุจู Stack Trace ูููุทูุฑูู ูู ุจูุฆุฉ ุงูุชุทููุฑ

### 2. `utils/logger.js`
โ ุชูุทูุน ุงูุฑุณุงุฆู ุงูุทูููุฉ (ุฃูุซุฑ ูู 200 ุญุฑู)
โ ุฑุณุงุฆู ุฃูุถุญ ูุฃูุตุฑ

### 3. ููู ุชูุซูู ุฌุฏูุฏ: `ERROR_HANDLING.md`
โ ุดุฑุญ ุดุงูู ููุธุงู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
โ ุฃูุซูุฉ ุนูููุฉ
โ ุฃูุถู ุงูููุงุฑุณุงุช

---

## ๐ก ูุซุงู ุนููู

### ูุจู ุงูุชุญุณูู:
```
POST /api/auth/register
Response: 400
{
  "status": "fail",
  "message": "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู",
  "error": { ... },
  "stack": "Error: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู\n at AuthService.register..."
}
```

### ุจุนุฏ ุงูุชุญุณูู:
```
POST /api/auth/register
Response: 400
{
  "status": "fail",
  "message": "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู"
}
```

---

## ๐ ุงูุฏุฑุณ ุงููุณุชูุงุฏ

โ **ุงููุตู ุจูู:**
- ูุง ูุฑุงู ุงููุณุชุฎุฏู (ุฑุณุงูุฉ ูุงุถุญุฉ ููุฎุชุตุฑุฉ)
- ูุง ูุฑุงู ุงููุทูุฑ (ูุนูููุงุช ูุงููุฉ ููุชุทููุฑ)

โ **ุงูุฃูุงู:**
- ุนุฏู ูุดู ูุนูููุงุช ุงููุธุงู ุงูุฏุงุฎููุฉ ููุนููู
- ุญูุงูุฉ ูู ุงููุฌูุงุช ุงููุญุชููุฉ

โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู:**
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููุนููู
- ูุนูููุงุช ุชูุตูููุฉ ูููุทูุฑูู ุนูุฏ ุงูุญุงุฌุฉ
